{"version":3,"sources":["app-bundle.min.js","backend/module.js","backend/crawlers/playstore-crawler.js","backend/services/ajax.js","backend/services/response.js","home/js/home.js","landing/js/landing.js","register/js/register.js","test/js/test.js","sidemenu/js/sidemenu.js"],"names":["angular","module","service","AjaxService","baseUrl","query","arguments","search","keyword","q","HTTPConfig","$httpProvider","defaults","headers","post","transformRequest","unshift","data","key","result","hasOwnProperty","push","encodeURIComponent","join","$inject","$q","$http","ResponseService","errorCount","url","timeout","deferred","defer","method","then","resolve","good","message","noDataOnAjax","error","ajaxErrorCount","errorOnAjax","persistentErrorOnAjax","promise","config","onPasswordCreate","controller","$scope","createTile","index","click","tile","console","log","tiles","i","$state","$cordovaSQLite","$ionicPopup","login","go","register","$ionicHistory","query1","execute","db","username","rows","length","item","alert","title","query2","password","rowsAffected","clearCache","PlayStoreCrawlerService","cache","searchStores","results","JSON","stringify"],"mappings":"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","file":"app-bundle.min.js","sourcesContent":[";(function() {\n\"use strict\";\n\nangular.module('bluehacks.backend.services', []);\nangular.module('bluehacks.backend.crawlers', ['bluehacks.backend.services']); // still dependent on services\nangular.module('bluehacks.backend', ['bluehacks.backend.crawlers', 'bluehacks.backend.services']);\n}());\n;;(function() {\n\"use strict\";\n\nangular.module('bluehacks.backend.crawlers')\n\n.service('PlayStoreCrawlerService', [\"AjaxService\", function(AjaxService) {\n\n  var baseUrl = \"http://localhost:3000/api/\";\n\n  return {\n    query: function query(arguments) {\n      return AjaxService(baseUrl, arguments);\n    },\n    search: function search(keyword) {\n      return query({q: keyword});\n    }\n  };\n}]);\n}());\n;;(function() {\n\"use strict\";\n\nHTTPConfig.$inject = [\"$httpProvider\"];angular.module('bluehacks.backend.services')\n\n.service('AjaxService', [\"$q\", \"$http\", \"ResponseService\", function($q, $http, ResponseService) {\n  var errorCount = 0;\n  return function(url, data, timeout) {\n    var deferred = $q.defer();\n    $http({\n      url: url + '.ajax.php',\n      data: data,\n      method: 'GET',\n      timeout: timeout || 7500\n    }).then(function(result) {\n      errorCount = 0;\n      if (!result || !result.data)\n        deferred.resolve({\n          good: false,\n          message: ResponseService.noDataOnAjax\n        });\n      else\n        deferred.resolve(result.data);\n    }, function(error) {\n      ++errorCount;\n      deferred.resolve({\n        good: false,\n        message: errorCount <= ResponseService.ajaxErrorCount\n          ? ResponseService.errorOnAjax\n          : ResponseService.persistentErrorOnAjax,\n        error: error\n      });\n    });\n    return deferred.promise;\n  };\n}])\n\n.config(HTTPConfig);\n\n/**\n * Configures the interception of all AJAX requests by encoding all sent data\n * to the `application/x-www-form-urlencoded` format. This is necessary\n * because the current server runs in PHP v7, which has issues with Angular's\n * default `application/json` encoding.\n *\n * One issue for this, however, is that all information sent to the server become\n * flattened. For example, sending a deep object like:\n * ```\n * {\n *   \"name\": {\n *     \"first\": \"Rico\",\n *     \"last\": \"Tiongson\"\n *    },\n *    \"age\": 3\n * }\n * ```\n * would be sent as `name=%5Bobject%20Object%5D&age=3` or something simlar.\n * To avoid this, it is recommended to use `JSON#stringify` for deeper values.\n *\n * @name      HTTPConfig\n * @ngdoc     config\n * @memberof  intellagente\n * @author    Rico Tiongson\n * @param     {provider} $httpProvider Used to connect to Angular's provider for HTTP AJAX connections.\n */\nfunction HTTPConfig($httpProvider) {\n\n  // don't use application/json\n  $httpProvider.defaults.headers.post[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n  $httpProvider.defaults.transformRequest.unshift(function(data) {\n    // encode JSON data upon request\n    var key, result = [];\n    if (typeof data === \"string\")\n      return data;\n    for (key in data)\n      if (data.hasOwnProperty(key))\n        result.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]));\n    return result.join(\"&\");\n  });\n\n};\n}());\n;;(function() {\n\"use strict\";\n\nangular.module('bluehacks.backend.services')\n\n.service('ResponseService', [\"$q\", \"$http\", \"ResponseService\", function($q, $http, ResponseService) {\n  return {\n    noDataOnAjax: 'No response. Make sure you are connected to the internet.',\n    ajaxErrorCount: 2,\n    errorOnAjax: 'Connection error. Make sure you are connected to the internet.',\n    persistentErrorOnAjax: 'Connection error',\n    onPasswordCreate: 'Successfully created new password. Please login with your new password.'\n  };\n}]);\n}());\n;;(function() {\n\"use strict\";\n\nangular.module('bluehacks.homecontrollers', [])\n\n.controller('HomeCtrl', [\"$scope\", function($scope) {\n  function createTile(index) {\n    return {\n      url: '../img/' + index + '.png',\n      click: function(tile) {\n        // TODO: what happens when I click this tile\n        console.log(\"clicked!\");\n      }\n    };\n  };\n  $scope.tiles = [];\n  for (var i = 1; i <= 17; ++i) {\n    $scope.tiles.push(createTile(i));\n  }\n}]);\n}());\n;;(function() {\n\"use strict\";\n\nangular.module('bluehacks.landingcontrollers', [])\n\n.controller('LandingCtrl', [\"$scope\", \"$state\", \"$cordovaSQLite\", \"$ionicPopup\", function($scope, $state, $cordovaSQLite, $ionicPopup) {\n\n\t$scope.data = {};\n\n\t$scope.login = function(){\n    $state.go('sidemenu.home');\n\t\t/*console.log(\"CLICKED LOGIN!\");\n\t\tvar query = \"SELECT * FROM user WHERE username = ? AND password = ?\"; //caution when using * if you want to be specific\n      $cordovaSQLite.execute(db, query, [$scope.data.username, $scope.data.password]).then(function(result){\n          if(result.rows.length > 0){\n            var query2 = \"DELETE FROM current_user\";\n            $cordovaSQLite.execute(ebtrackerdb, query2);\n            var query3 = \"INSERT INTO current_user (current_user) VALUES (?)\";\n            $cordovaSQLite.execute(ebtrackerdb, query3, [$scope.user.username]);\n            console.log(\"SELECTED -> \" + result.rows.item(0).firstname);\n            var alertPopup = $ionicPopup.alert({\n              title: 'Welcome, ' + result.rows.item(0).username\n            });\n            $state.go('landing');\n          } else{\n            console.log(\"NO ROWS EXIST\"); \n            var alertPopup = $ionicPopup.alert({\n              title: 'User does not exist'\n            });\n          }\n      }, function(error){\n          console.log(error);\n     })*/\n\t}\n\n\t$scope.register = function(){\n\t\tconsole.log(\"clicked\");\n\t\t$state.go('register');\n\t}\n\n}]);\n}());\n;;(function() {\n\"use strict\";\n\nangular.module('bluehacks.registercontrollers', [])\n\n.controller('RegisterCtrl', [\"$scope\", \"$cordovaSQLite\", \"$ionicPopup\", \"$ionicHistory\", function($scope, $cordovaSQLite, $ionicPopup, $ionicHistory) {\n\n\t$scope.data = {};\n\n\t$scope.register = function(){\n    console.log(\"SHOW ME THAT YOU LIVE\")\n\t\tvar query1 = \"SELECT username FROM user WHERE username = ?\";\n      $cordovaSQLite.execute(db, query1, [$scope.data.username]).then(function(result){ \n        if(result.rows.length >= 1){\n          console.log(\"Record exists: \" + result.rows.item(0).username);\n          var alertPopup = $ionicPopup.alert({\n              title: 'User already exists. Pick another username',\n          });\n        } else{\n            var query2 = \"INSERT INTO user (username, password) VALUES (?, ?)\";\n            $cordovaSQLite.execute(db, query2, [$scope.data.username, $scope.data.password]).then(function(result){ \n            console.log(\"Rows affected: \" + result.rowsAffected);\n            console.log($scope.data.username + \" \" + $scope.data.password);\n            var alertPopup = $ionicPopup.alert({\n              title: 'Registered user [' + $scope.data.username + '] with password [' + $scope.data.password + ']'\n            });\n            $ionicHistory.clearCache();\n      }, function(error){\n        alert(error);\n        console.log(error);\n      })    \n        }\n      }, function(error){\n        alert(error);\n        console.log(error);\n      });\n\t}\n}]);\n}());\n;;(function() {\n\"use strict\";\n\nangular.module('bluehacks.testcontrollers', ['bluehacks.backend.services'])\n\n.controller('TestCtrl', [\"$scope\", \"PlayStoreCrawlerService\", function($scope, PlayStoreCrawlerService) {\n  // perform search here\n\n  $scope.cache = {};\n\n  $scope.searchStores = function searchStores(query) {\n    if (cache.search != query) {\n      $scope.cache.search = query;\n      PlayStoreCrawlerService.search(query).then(function(results) {\n        $scope.cache.result = JSON.stringify(results);\n      });\n      return $scope.cache.result;\n    }\n  };\n}]);\n}());\n;;(function() {\n\"use strict\";\n\nangular.module('bluehacks.sidemenucontrollers', [])\n\n.controller('SideMenuCtrl', [\"$scope\", function($scope) {\n\n}]);\n}());\n","angular.module('bluehacks.backend.services', []);\nangular.module('bluehacks.backend.crawlers', ['bluehacks.backend.services']); // still dependent on services\nangular.module('bluehacks.backend', ['bluehacks.backend.crawlers', 'bluehacks.backend.services']);\n","angular.module('bluehacks.backend.crawlers')\n\n.service('PlayStoreCrawlerService', function(AjaxService) {\n\n  var baseUrl = \"http://localhost:3000/api/\";\n\n  return {\n    query: function query(arguments) {\n      return AjaxService(baseUrl, arguments);\n    },\n    search: function search(keyword) {\n      return query({q: keyword});\n    }\n  };\n});\n","angular.module('bluehacks.backend.services')\n\n.service('AjaxService', function($q, $http, ResponseService) {\n  var errorCount = 0;\n  return function(url, data, timeout) {\n    var deferred = $q.defer();\n    $http({\n      url: url + '.ajax.php',\n      data: data,\n      method: 'GET',\n      timeout: timeout || 7500\n    }).then(function(result) {\n      errorCount = 0;\n      if (!result || !result.data)\n        deferred.resolve({\n          good: false,\n          message: ResponseService.noDataOnAjax\n        });\n      else\n        deferred.resolve(result.data);\n    }, function(error) {\n      ++errorCount;\n      deferred.resolve({\n        good: false,\n        message: errorCount <= ResponseService.ajaxErrorCount\n          ? ResponseService.errorOnAjax\n          : ResponseService.persistentErrorOnAjax,\n        error: error\n      });\n    });\n    return deferred.promise;\n  };\n})\n\n.config(HTTPConfig);\n\n/**\n * Configures the interception of all AJAX requests by encoding all sent data\n * to the `application/x-www-form-urlencoded` format. This is necessary\n * because the current server runs in PHP v7, which has issues with Angular's\n * default `application/json` encoding.\n *\n * One issue for this, however, is that all information sent to the server become\n * flattened. For example, sending a deep object like:\n * ```\n * {\n *   \"name\": {\n *     \"first\": \"Rico\",\n *     \"last\": \"Tiongson\"\n *    },\n *    \"age\": 3\n * }\n * ```\n * would be sent as `name=%5Bobject%20Object%5D&age=3` or something simlar.\n * To avoid this, it is recommended to use `JSON#stringify` for deeper values.\n *\n * @name      HTTPConfig\n * @ngdoc     config\n * @memberof  intellagente\n * @author    Rico Tiongson\n * @param     {provider} $httpProvider Used to connect to Angular's provider for HTTP AJAX connections.\n */\nfunction HTTPConfig($httpProvider) {\n\n  // don't use application/json\n  $httpProvider.defaults.headers.post[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n  $httpProvider.defaults.transformRequest.unshift(function(data) {\n    // encode JSON data upon request\n    var key, result = [];\n    if (typeof data === \"string\")\n      return data;\n    for (key in data)\n      if (data.hasOwnProperty(key))\n        result.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]));\n    return result.join(\"&\");\n  });\n\n};\n","angular.module('bluehacks.backend.services')\n\n.service('ResponseService', function($q, $http, ResponseService) {\n  return {\n    noDataOnAjax: 'No response. Make sure you are connected to the internet.',\n    ajaxErrorCount: 2,\n    errorOnAjax: 'Connection error. Make sure you are connected to the internet.',\n    persistentErrorOnAjax: 'Connection error',\n    onPasswordCreate: 'Successfully created new password. Please login with your new password.'\n  };\n});\n","angular.module('bluehacks.homecontrollers', [])\n\n.controller('HomeCtrl', function($scope) {\n  function createTile(index) {\n    return {\n      url: '../img/' + index + '.png',\n      click: function(tile) {\n        // TODO: what happens when I click this tile\n        console.log(\"clicked!\");\n      }\n    };\n  };\n  $scope.tiles = [];\n  for (var i = 1; i <= 17; ++i) {\n    $scope.tiles.push(createTile(i));\n  }\n});\n","angular.module('bluehacks.landingcontrollers', [])\n\n.controller('LandingCtrl', function($scope, $state, $cordovaSQLite, $ionicPopup) {\n\n\t$scope.data = {};\n\n\t$scope.login = function(){\n    $state.go('sidemenu.home');\n\t\t/*console.log(\"CLICKED LOGIN!\");\n\t\tvar query = \"SELECT * FROM user WHERE username = ? AND password = ?\"; //caution when using * if you want to be specific\n      $cordovaSQLite.execute(db, query, [$scope.data.username, $scope.data.password]).then(function(result){\n          if(result.rows.length > 0){\n            var query2 = \"DELETE FROM current_user\";\n            $cordovaSQLite.execute(ebtrackerdb, query2);\n            var query3 = \"INSERT INTO current_user (current_user) VALUES (?)\";\n            $cordovaSQLite.execute(ebtrackerdb, query3, [$scope.user.username]);\n            console.log(\"SELECTED -> \" + result.rows.item(0).firstname);\n            var alertPopup = $ionicPopup.alert({\n              title: 'Welcome, ' + result.rows.item(0).username\n            });\n            $state.go('landing');\n          } else{\n            console.log(\"NO ROWS EXIST\"); \n            var alertPopup = $ionicPopup.alert({\n              title: 'User does not exist'\n            });\n          }\n      }, function(error){\n          console.log(error);\n     })*/\n\t}\n\n\t$scope.register = function(){\n\t\tconsole.log(\"clicked\");\n\t\t$state.go('register');\n\t}\n\n});\n","angular.module('bluehacks.registercontrollers', [])\n\n.controller('RegisterCtrl', function($scope, $cordovaSQLite, $ionicPopup, $ionicHistory) {\n\n\t$scope.data = {};\n\n\t$scope.register = function(){\n    console.log(\"SHOW ME THAT YOU LIVE\")\n\t\tvar query1 = \"SELECT username FROM user WHERE username = ?\";\n      $cordovaSQLite.execute(db, query1, [$scope.data.username]).then(function(result){ \n        if(result.rows.length >= 1){\n          console.log(\"Record exists: \" + result.rows.item(0).username);\n          var alertPopup = $ionicPopup.alert({\n              title: 'User already exists. Pick another username',\n          });\n        } else{\n            var query2 = \"INSERT INTO user (username, password) VALUES (?, ?)\";\n            $cordovaSQLite.execute(db, query2, [$scope.data.username, $scope.data.password]).then(function(result){ \n            console.log(\"Rows affected: \" + result.rowsAffected);\n            console.log($scope.data.username + \" \" + $scope.data.password);\n            var alertPopup = $ionicPopup.alert({\n              title: 'Registered user [' + $scope.data.username + '] with password [' + $scope.data.password + ']'\n            });\n            $ionicHistory.clearCache();\n      }, function(error){\n        alert(error);\n        console.log(error);\n      })    \n        }\n      }, function(error){\n        alert(error);\n        console.log(error);\n      });\n\t}\n});\n","angular.module('bluehacks.testcontrollers', ['bluehacks.backend.services'])\n\n.controller('TestCtrl', function($scope, PlayStoreCrawlerService) {\n  // perform search here\n\n  $scope.cache = {};\n\n  $scope.searchStores = function searchStores(query) {\n    if (cache.search != query) {\n      $scope.cache.search = query;\n      PlayStoreCrawlerService.search(query).then(function(results) {\n        $scope.cache.result = JSON.stringify(results);\n      });\n      return $scope.cache.result;\n    }\n  };\n});\n","angular.module('bluehacks.sidemenucontrollers', [])\n\n.controller('SideMenuCtrl', function($scope) {\n\n});\n"]}